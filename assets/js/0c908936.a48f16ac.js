"use strict";(self.webpackChunklightning_docs=self.webpackChunklightning_docs||[]).push([[7735],{3905:(t,e,n)=>{n.d(e,{Zo:()=>d,kt:()=>k});var a=n(7294);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,l=function(t,e){if(null==t)return{};var n,a,l={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var p=a.createContext({}),m=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},d=function(t){var e=m(t.components);return a.createElement(p.Provider,{value:e},t.children)},s="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},g=a.forwardRef((function(t,e){var n=t.components,l=t.mdxType,r=t.originalType,p=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),s=m(n),g=l,k=s["".concat(p,".").concat(g)]||s[g]||u[g]||r;return n?a.createElement(k,i(i({ref:e},d),{},{components:n})):a.createElement(k,i({ref:e},d))}));function k(t,e){var n=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=n.length,i=new Array(r);i[0]=g;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o[s]="string"==typeof t?t:l,i[1]=o;for(var m=2;m<r;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},6902:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>m});var a=n(7462),l=(n(7294),n(3905));const r={},i="Flexbox",o={unversionedId:"Templates/Flexbox",id:"Templates/Flexbox",title:"Flexbox",description:"Sometimes, absolute positioning is not enough. You may want to position elements stacked horizontally or vertically, or wrap items when there is too much to fit in an area. This process is called layouting and Lightning has a simple solution for it, which is called Flexbox.",source:"@site/docs/Templates/Flexbox.md",sourceDirName:"Templates",slug:"/Templates/Flexbox",permalink:"/lightning-docs/docs/Templates/Flexbox",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Templates/Flexbox.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Events",permalink:"/lightning-docs/docs/Templates/Events"},next:{title:"Patching",permalink:"/lightning-docs/docs/Templates/Patching"}},p={},m=[{value:"Differences with CSS Flexbox",id:"differences-with-css-flexbox",level:2},{value:"Flex Container",id:"flex-container",level:3},{value:"Flex Item",id:"flex-item",level:3},{value:"Disable Flex Item",id:"disable-flex-item",level:2},{value:"Invisible Elements",id:"invisible-elements",level:2},{value:"Auto Sizing",id:"auto-sizing",level:2},{value:"Offsets",id:"offsets",level:2},{value:"Final Coordinates",id:"final-coordinates",level:2},{value:"Live Demo",id:"live-demo",level:2}],d={toc:m},s="wrapper";function u(t){let{components:e,...n}=t;return(0,l.kt)(s,(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"flexbox"},"Flexbox"),(0,l.kt)("p",null,"Sometimes, absolute positioning is not enough. You may want to position elements stacked horizontally or vertically, or wrap items when there is too much to fit in an area. This process is called ",(0,l.kt)("em",{parentName:"p"},"layouting")," and Lightning has a simple solution for it, which is called ",(0,l.kt)("em",{parentName:"p"},"Flexbox"),"."),(0,l.kt)("p",null,"Flexbox allows you to dynamically stack items of rows and columns. In Lightning, the ",(0,l.kt)("inlineCode",{parentName:"p"},"flex")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"flexItem")," properties define the flex layout settings."),(0,l.kt)("p",null,"Instead of using the HTML CSS toolbox, Lightning only applies the Flexbox layout methodology."),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Although the Lightning layout engine provides some smart performance optimizations, it is still rather CPU-intensive. It is best used for situations in which the flex items do ",(0,l.kt)("em",{parentName:"p"},"not")," change dimensions on a regular basis.")),(0,l.kt)("p",null,"Using Flexbox, you can also nest flex containers, making them both flex containers ",(0,l.kt)("em",{parentName:"p"},"and")," flex items. For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"    MyFlexBox:{ x: 50, y: 50, w: 250, flex:{ direction: 'row', padding: 20, wrap: true }, rect: true,\n        MyFlexItem: { w: 50, h: 100, flexItem:{ margin: 10 }, rect: true, color: 0xFF797979 },\n        MyFlexBoxItemWithFlexItemChildren:{flex: {direction: 'column', padding: 20 }, flexItem: { margin: 10 }, rect: true,\n            children: [\n                { text: {text: \"line 1\"} },\n                { text: {text: \"line 2\"} }\n            ]\n        }\n    }\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"See the  ",(0,l.kt)("a",{parentName:"p",href:"https://css-tricks.com/snippets/css/a-guide-to-flexbox/"},"Flexbox Guide")," for more information about Flexbox layouting.")),(0,l.kt)("h2",{id:"differences-with-css-flexbox"},"Differences with CSS Flexbox"),(0,l.kt)("p",null,"Lightning's Flexbox feature is almost identical to the one that is provided by Chrome and Firefox. However, we have implemented a few ",(0,l.kt)("em",{parentName:"p"},"differences")," for the sake of improving consistency and usability."),(0,l.kt)("p",null,"The tables below describe the major differences between the Flexbox feature in Lightning and the one in Chrome / Firefox, respectively."),(0,l.kt)("h3",{id:"flex-container"},"Flex Container"),(0,l.kt)("p",null,"Specified in the element property: ",(0,l.kt)("inlineCode",{parentName:"p"},"flex: {}"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Lightning"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"CSS"),(0,l.kt)("th",{parentName:"tr",align:null},"Difference (if any)"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"direction")),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"flex-direction"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"wrap")),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"flex-wrap"),(0,l.kt)("td",{parentName:"tr",align:null},"Only wrap ('true') and no wrap ('false') are supported")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"alignItems")),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"align-items"),(0,l.kt)("td",{parentName:"tr",align:null},"Baseline is not supported")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"alignContent")),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"align-items"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"justifyContent")),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"justify-content"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"padding")),(0,l.kt)("td",{parentName:"tr",align:null},"Number (px)"),(0,l.kt)("td",{parentName:"tr",align:null},"padding"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"paddingLeft")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"padding-left"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"paddingTop")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"padding-top"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"paddingRight")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"padding-right"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"paddingBottom")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"padding-bottom"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h3",{id:"flex-item"},"Flex Item"),(0,l.kt)("p",null,"Specified in the element property: ",(0,l.kt)("inlineCode",{parentName:"p"},"flexItem: {}"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Lightning"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"CSS"),(0,l.kt)("th",{parentName:"tr",align:null},"Difference (if any)"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"grow")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"flex-grow"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"shrink")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"flex-shrink"),(0,l.kt)("td",{parentName:"tr",align:null},"Non-containers are not shrinkable by default")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"alignSelf")),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"align-self"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"order"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Not supported"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"flex-basis"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Not supported (behaves as set to 'auto')"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"minWidth")),(0,l.kt)("td",{parentName:"tr",align:null},"Number (px)"),(0,l.kt)("td",{parentName:"tr",align:null},"min-width"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"minHeight")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"min-height"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"maxWidth")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"max-width"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"maxHeight")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"max-height"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"margin")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"margin"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"marginLeft")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"margin-left"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"marginTop")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"margin-top"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"marginRight")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"margin-right"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"marginBottom")),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"margin-bottom"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h2",{id:"disable-flex-item"},"Disable Flex Item"),(0,l.kt)("p",null,"All children of a flex container are by default flex items. However, it is possible to make one of the children behave as an ",(0,l.kt)("em",{parentName:"p"},"absolutely positioned element")," by specifying ",(0,l.kt)("inlineCode",{parentName:"p"},"flexItem: false"),". In this case, the item does not affect the flex layout and is positioned absolutely."),(0,l.kt)("h2",{id:"invisible-elements"},"Invisible Elements"),(0,l.kt)("p",null,"When an element is invisible (",(0,l.kt)("inlineCode",{parentName:"p"},"visible: false"),") it is ",(0,l.kt)("em",{parentName:"p"},"ignored")," in the flex layout. In contrast, when an element is fully transparent (",(0,l.kt)("inlineCode",{parentName:"p"},"alpha: 0"),") it takes up space in the layout as normal."),(0,l.kt)("h2",{id:"auto-sizing"},"Auto Sizing"),(0,l.kt)("p",null,"A flex container can have a ",(0,l.kt)("em",{parentName:"p"},"fixed")," or ",(0,l.kt)("em",{parentName:"p"},"specified")," ",(0,l.kt)("inlineCode",{parentName:"p"},"w")," and / ",(0,l.kt)("inlineCode",{parentName:"p"},"h"),". This may affect the positioning of the items within it."),(0,l.kt)("p",null,"It is also possible to ",(0,l.kt)("em",{parentName:"p"},"not")," specify it (or set it to 0). In that case, the flex container will always ",(0,l.kt)("em",{parentName:"p"},"fit to the contents")," on those axes. This is deliberately inconsistent with HTML CSS, where the fitting on the flex container depends on the axis (the horizontal axis usually falls back to the parent width), which feels as a rather odd behavior."),(0,l.kt)("h2",{id:"offsets"},"Offsets"),(0,l.kt)("p",null,"When enabling flexbox, the ",(0,l.kt)("inlineCode",{parentName:"p"},"x")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"y")," properties act as relative positions to the positions calculated by the layout engine."),(0,l.kt)("h2",{id:"final-coordinates"},"Final Coordinates"),(0,l.kt)("p",null,"After the layout has been done, you can find the element's coordinates and size by using the ",(0,l.kt)("inlineCode",{parentName:"p"},"finalX"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"finalY"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"finalW"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"finalH")," element properties."),(0,l.kt)("p",null,"To ensure a full stage layout (without rendering), you can use ",(0,l.kt)("inlineCode",{parentName:"p"},"this.stage.update()"),". After that, the ",(0,l.kt)("inlineCode",{parentName:"p"},"finalX")," etc. properties will contain the correct value."),(0,l.kt)("h2",{id:"live-demo"},"Live Demo"),(0,l.kt)("p",null,"The example below shows how flexbox works when you change the width of the ",(0,l.kt)("inlineCode",{parentName:"p"},"flex")," wrapper."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"class FlexExample extends lng.Application {\n    static _template() {\n        return {\n            Wrapper:{ x: 50, y: 50, w: 250,  flex:{ direction: 'row', padding: 20, wrap: true }, rect: true, color: 0xFF2D2D2D, paddingLeft: 200,\n                Item1: { w: 50, h: 100, flexItem:{ margin: 10 }, rect: true, color: 0xFF797979 },\n                Item2: { w: 50, h: 100, flexItem:{ margin: 10 }, rect: true, color: 0xFFA7A7A7 },\n                Item3: { w: 50, h: 100, flexItem:{ margin: 10, alignSelf: 'stretch', grow: 1, maxWidth: 190, maxHeight: 100 }, rect: true, color: 0xFFD3D3D3 },\n                Item4: { w: 90, h: 50, flexItem:{ margin: 10, alignSelf: 'stretch', grow: 1, maxWidth: 230, maxHeight: 100 }, rect: true, color: 0xFF74B4A7 },\n               \n                Sub: {flex: {direction: 'column', padding: 20}, flexItem: { margin: 10, alignSelf: 'stretch', grow: 1, maxWidth: 380 }, rect: true, color: 0xFF486f67,\n                    children: [\n                        { text: {text: \"line 1\"} },\n                        { text: {text: \"line 2\"} },\n                        { text: {text: \"line 3\"} },\n                        { text: {text: \"line 4\"} }\n                    ]\n                }\n            }\n        }\n     }\n     _init(){\n         this._myFlexAnimation = this.tag('Wrapper').animation({\n             duration: 4, repeat: -1, stopMethod: 'immediate',\n             actions: [{ p: 'w', v: { 0: 250, 0.5: 430, 1: 250 } }]\n         });\n         this._myFlexAnimation.start();\n     }\n}\n\n\nconst options = {stage: {w: window.innerWidth, h: window.innerHeight, useImageWorker: false}};\nconst App = new FlexExample(options);\ndocument.body.appendChild(App.stage.getCanvas());\n")))}u.isMDXComponent=!0}}]);