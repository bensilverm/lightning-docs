"use strict";(self.webpackChunklightning_docs=self.webpackChunklightning_docs||[]).push([[4177],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>d});var r=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c=r.createContext({}),l=function(t){var e=r.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):a(a({},e),t)),n},u=function(t){var e=l(t.components);return r.createElement(c.Provider,{value:e},t.children)},p="mdxType",f={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var n=t.components,o=t.mdxType,i=t.originalType,c=t.parentName,u=s(t,["components","mdxType","originalType","parentName"]),p=l(n),m=o,d=p["".concat(c,".").concat(m)]||p[m]||f[m]||i;return n?r.createElement(d,a(a({ref:e},u),{},{components:n})):r.createElement(d,a({ref:e},u))}));function d(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s[p]="string"==typeof t?t:o,a[1]=s;for(var l=2;l<i;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6800:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const i={},a="Fire Ancestors",s={unversionedId:"Communication/FireAncestors",id:"Communication/FireAncestors",title:"Fire Ancestors",description:"The fireAncestors() method sends a signal to a distant parent component, without propagating it to all the parents.",source:"@site/docs/Communication/FireAncestors.md",sourceDirName:"Communication",slug:"/Communication/FireAncestors",permalink:"/lightning-docs/docs/Communication/FireAncestors",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Communication/FireAncestors.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Communication",permalink:"/lightning-docs/docs/Communication/"},next:{title:"Signal",permalink:"/lightning-docs/docs/Communication/Signal"}},c={},l=[{value:"Live Demo",id:"live-demo",level:2}],u={toc:l},p="wrapper";function f(t){let{components:e,...n}=t;return(0,o.kt)(p,(0,r.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"fire-ancestors"},"Fire Ancestors"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"fireAncestors()")," method sends a ",(0,o.kt)("a",{parentName:"p",href:"/lightning-docs/docs/Communication/Signal"},"signal")," to a distant parent component, without propagating it to all the parents."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"this.fireAncestors('$signalName', arg1, arg2... argx)\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"The signal ",(0,o.kt)("em",{parentName:"p"},"name")," and ",(0,o.kt)("em",{parentName:"p"},"function")," on your parent node must ",(0,o.kt)("em",{parentName:"p"},"both")," have the prefix ",(0,o.kt)("inlineCode",{parentName:"p"},"$"),".")),(0,o.kt)("h2",{id:"live-demo"},"Live Demo"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"class FireAncestorDemo extends lng.Application {\n    static _template() {\n        return {\n            x: 20, y: 20,\n            ButtonList: {\n                type: ExampleButtonList,\n            },\n            Message: {\n                y: 80,\n                text: { text: 'Left / right to select a button\\nEnter to press it' }\n            }\n        }\n    }\n    $changeMessage(buttonNumber, color) {\n        this.tag('Message').patch({\n            text: { text: 'Button ' + buttonNumber + ' pressed!' },\n            smooth: { color }\n            \n        })\n    }\n    _getFocused() {\n        return this.tag('ButtonList')\n    }\n}\n\nclass ExampleButtonList extends lng.component {\n    static _template() {\n        return {\n            Button1: {\n                type: ExampleButton,\n                buttonColor: 0xffff00ff,\n                buttonText: 'Button 1',\n                buttonNumber: '1'\n            },\n            Button2: {\n                x: 250,\n                type: ExampleButton,\n                buttonColor: 0xff00ffff,\n                buttonText: 'Button 2',\n                buttonNumber: '2'\n            }\n        }\n    }\n    _init() {\n        this.index = 0\n    }\n    _handleLeft() {\n        this.index = 0\n    }\n    _handleRight() {\n        this.index = 1\n    }\n    _getFocused() {\n        return this.children[this.index]\n    }\n}\n\n\nclass ExampleButton extends lng.component {\n    static _template() {\n        return {\n            color: 0xff1f1f1f,\n            texture: lng.Tools.getRoundRect(200, 40, 4),\n            Label: {\n                x: 100, y: 22, mount: .5, color: 0xffffffff, text: { fontSize: 20 }\n            }\n        }\n    }\n    _init() {\n        this.tag('Label').patch({ text: { text: this.buttonText }})\n    }\n    _focus() {\n        this.color = 0xffffffff\n        this.tag('Label').color = 0xff1f1f1f\n    }\n    _unfocus() {\n        this.color = 0xff1f1f1f\n        this.tag('Label').color = 0xffffffff\n    }\n    _handleEnter() {\n        this.fireAncestors('$changeMessage', this.buttonNumber, this.buttonColor)\n    }\n}\n\nconst App = new FireAncestorDemo({stage: {w: window.innerWidth, h: window.innerHeight, useImageWorker: false}});\ndocument.body.appendChild(App.stage.getCanvas());\n")))}f.isMDXComponent=!0}}]);